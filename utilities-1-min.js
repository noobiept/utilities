(function(b){function a(){}a.getRandomInt=function(d,c){if(!_.isFinite(d)||(d%1!==0)||!_.isFinite(c)||(c%1!==0)||(d>c)){throw new Error("Invalid arguments.")}return Math.floor(Math.random()*(c-d+1))+d};a.getSeveralRandomInts=function(f,c,e){if(!_.isFinite(f)||(f%1)!==0||!_.isFinite(c)||(c%1)!==0||!_.isFinite(e)||(e%1)!==0||(f>c)||((c-f)<e-1)){throw new Error("Invalid arguments.")}var d=[];while(d.length<e){var g=a.getRandomInt(f,c);if(d.indexOf(g)<0){d.push(g)}}return d};a.getRandomFloat=function(d,c){if(!_.isFinite(d)||!_.isFinite(c)||(d>c)){throw new Error("Invalid arguments.")}return Math.random()*(c-d)+d};a.deepClone=function(c){return JSON.parse(JSON.stringify(c))};a.KEY_CODE={backspace:8,tab:9,enter:13,esc:27,space:32,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,del:46,"0":48,"1":49,"2":50,"3":51,"4":52,"5":53,"6":54,"7":55,"8":56,"9":57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123};a.MOUSE_CODE={left:0,middle:1,right:2};a.calculateAngle=function(f,e,h,g){if(!_.isFinite(f)||!_.isFinite(e)||!_.isFinite(h)||!_.isFinite(g)){throw new Error("Invalid arguments.")}var d=e-g;var c=h-f;return Math.atan2(d,c)};a.calculateDistance=function(e,d,h,f){if(!_.isFinite(e)||!_.isFinite(d)||!_.isFinite(h)||!_.isFinite(f)){throw new Error("Invalid arguments.")}var g=f-d;var c=h-e;return Math.sqrt(Math.pow(g,2)+Math.pow(c,2))};a.toRadians=function(c){if(!_.isFinite(c)){throw new Error("Invalid argument.")}return c*Math.PI/180};a.toDegrees=function(c){if(!_.isFinite(c)){throw new Error("Invalid argument.")}return c*180/Math.PI};a.numberOfDigits=function(d){if(!_.isFinite(d)){throw new Error("Invalid arguments.")}if(d<0){d*=-1}var c=d.toString().replace(".","");return c.length};a.Timeout=function(){this.is_active=false;this.id=-1};a.Timeout.prototype.start=function(c,d){if(!_.isFunction(c)||!_.isFinite(d)){throw new Error("Invalid arguments.")}var e=this;if(this.is_active){this.clear()}this.is_active=true;this.id=b.setTimeout(function(){e.is_active=false;c()},d)};a.Timeout.prototype.clear=function(){this.is_active=false;b.clearTimeout(this.id)};a.boxBoxCollision=function(d,j,h,f,g,e,i,c){return !((j+f<e)||(j>e+c)||(d>g+i)||(d+h<g))};a.pointBoxCollision=function(h,g,d,f,e,c){if(h<d||h>f||g>e||g<c){return false}return true};a.circlePointCollision=function(e,d,c,j,i){var h=e-j;var g=d-i;var f=h*h+g*g;if(f<=c*c){return true}return false};a.circleCircleCollision=function(g,j,i,e,h,f){var d=g-e;var c=j-h;if(Math.pow(d,2)+Math.pow(c,2)<=Math.pow(i+f,2)){return true}return false};a.saveObject=function(c,d){if(!_.isString(c)){throw new Error("Invalid arguments.")}localStorage.setItem(c,JSON.stringify(d))};a.getObject=function(c){if(!_.isString(c)){throw new Error("Invalid arguments.")}var d=localStorage.getItem(c);return d&&JSON.parse(d)};a.inheritPrototype=function(c,e){var g=function(){};g.prototype=e.prototype;var d=new g();d.constructor=c;c.prototype=d};a.round=function(c,d){if(!_.isFinite(c)||!_.isFinite(d)||(d%1!==0)||(d<0)){throw new Error("Invalid arguments.")}return Math.round(c*Math.pow(10,d))/Math.pow(10,d)};a.timeToString=function(o,q){if(!_.isFinite(o)){throw new Error("Invalid arguments.")}if(typeof q==="undefined"||!_.isFinite(q)){q=2}var d=1000;var g=60*d;var j=60*g;var p=24*j;var l=0;var c=0;var f=0;var h=0;while(o>=p){f++;o-=p}while(o>=j){c++;o-=j}while(o>=g){l++;o-=g}h=a.round(o/d,2);var n=[["day",f],["hour",c],["minute",l],["second",h]];var m=function(r,i){if(i!==1){r+="s"}return i+" "+r};var e="";var k;for(k=0;k<n.length;k++){if(q===0){break}if(n[k][1]!==0){if(e!==""){e+=" "}e+=m(n[k][0],n[k][1]);q--}}if(e===""){e="0 seconds"}return e};b.Utilities=a}(window));