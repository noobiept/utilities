!function(a){function b(){}b.boxBoxCollision=function(a,b,c,d,e,f,g,h){return!(f>b+d||b>f+h||a>e+g||e>a+c)},b.circleCircleCollision=function(a,b,c,d,e,f){var g=a-d,h=b-e;return Math.pow(g,2)+Math.pow(h,2)<=Math.pow(c+f,2)?!0:!1},b.circlePointCollision=function(a,b,c,d,e){var f=a-d,g=b-e,h=f*f+g*g;return c*c>=h?!0:!1},b.pointBoxCollision=function(a,b,c,d,e,f){return c>a||a>c+e||d>b||b>d+f?!1:!0},b.KEY_CODE={backspace:8,tab:9,enter:13,esc:27,space:32,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,del:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},b.MOUSE_CODE={left:0,middle:1,right:2},b.getObject=function(a){if(!b.isString(a))throw new Error("Invalid arguments.");var c=localStorage.getItem(a);return c&&JSON.parse(c)},b.saveObject=function(a,c){if(!b.isString(a))throw new Error("Invalid arguments.");localStorage.setItem(a,JSON.stringify(c))},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===Object.prototype.toString.call(a)},b.isFunction=function(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)},b.isNumber=function(a){return"number"==typeof a&&!isNaN(parseFloat(a))&&isFinite(a)},b.isString=function(a){return"string"==typeof a||a instanceof String},b.getRandomFloat=function(a,c){if(!b.isNumber(a)||!b.isNumber(c)||a>c)throw new Error("Invalid arguments.");return Math.random()*(c-a)+a},b.getRandomInt=function(a,c){if(!b.isNumber(a)||a%1!==0||!b.isNumber(c)||c%1!==0||a>c)throw new Error("Invalid arguments.");return Math.floor(Math.random()*(c-a+1))+a},b.getSeveralRandomInts=function(a,c,d){if(!b.isNumber(a)||a%1!==0||!b.isNumber(c)||c%1!==0||!b.isNumber(d)||d%1!==0||a>c||d-1>c-a)throw new Error("Invalid arguments.");for(var e=[];e.length<d;){var f=b.getRandomInt(a,c);e.indexOf(f)<0&&e.push(f)}return e},b.numberOfDigits=function(a){if(!b.isNumber(a))throw new Error("Invalid arguments.");0>a&&(a*=-1);var c=a.toString().replace(".","");return c.length},b.round=function(a,c){if(!b.isNumber(a)||!b.isNumber(c)||c%1!==0||0>c)throw new Error("Invalid arguments.");return Math.round(a*Math.pow(10,c))/Math.pow(10,c)},b.deepClone=function(a){return JSON.parse(JSON.stringify(a))},b.createEnum=function(a,c){if(!b.isArray(a))throw new Error("'values' argument needs to be an array of strings.");b.isNumber(c)||(c=0);for(var d,e={},f=a.length,g=0;f>g;g++)d=a[g],e[c]=d,e[d]=c,c++;return e},b.inheritPrototype=function(a,b){var c=function(){};c.prototype=b.prototype;var d=new c;d.constructor=a,a.prototype=d},b.timeToString=function(a,c){if(!b.isNumber(a))throw new Error("Invalid arguments.");"undefined"!=typeof c&&b.isNumber(c)||(c=2);for(var d=1e3,e=60*d,f=60*e,g=24*f,h=0,i=0,j=0,k=0;a>=g;)j++,a-=g;for(;a>=f;)i++,a-=f;for(;a>=e;)h++,a-=e;k=b.round(a/d,2);var l,m=[["day",j],["hour",i],["minute",h],["second",k]],n=function(a,b){return 1!==b&&(a+="s"),b+" "+a},o="";for(l=0;l<m.length&&0!==c;l++)0!==m[l][1]&&(""!==o&&(o+=" "),o+=n(m[l][0],m[l][1]),c--);return""===o&&(o="0 seconds"),o},b.Timeout=function(){this.is_active=!1,this.id=-1},b.Timeout.prototype.start=function(c,d){if(!b.isFunction(c)||!b.isNumber(d))throw new Error("Invalid arguments.");var e=this;this.is_active&&this.clear(),this.is_active=!0,this.id=a.setTimeout(function(){e.is_active=!1,c()},d)},b.Timeout.prototype.clear=function(){a.clearTimeout(this.id),this.is_active=!1},b.Timer=function(a){if(!(a instanceof HTMLElement))throw new Error("Missing argument or not an HTML element.");this.is_active=!1,this.start_value=0,this.end_value=null,this.end_callback=null,this.count_down=!1,this.time_count=0,this.interval_f=null,this.html_element=a,this.html_element.innerHTML=this.getTimeString()},b.Timer.prototype.start=function(a){"undefined"==typeof a&&(a={}),b.isNumber(a.startValue)||(a.startValue=0),b.isNumber(a.endValue)||(a.endValue=null),b.isFunction(a.endCallback)||(a.endCallback=null),b.isFunction(a.tickCallback)||(a.tickCallback=null),a.countDown!==!0&&(a.countDown=!1),this.is_active&&this.stop(),this.count_down=a.countDown,this.time_count=a.startValue,this.start_value=a.startValue,this.end_value=a.endValue,this.end_callback=a.endCallback,this.tick_callback=a.tickCallback,this.html_element.innerHTML=this.getTimeString(),this.resume()},b.Timer.prototype.resume=function(){if(!this.is_active){var b=this,c=1e3;this.is_active=!0,this.interval_f=a.setInterval(function(){if(b.count_down?b.time_count-=c:b.time_count+=c,null!==b.end_value){var a=!1;b.count_down?b.time_count<=b.end_value&&(a=!0):b.time_count>=b.end_value&&(a=!0),a&&(b.stop(),null!==b.end_callback&&b.end_callback())}null!==b.tick_callback&&b.tick_callback(),b.html_element.innerHTML=b.getTimeString()},c)}},b.Timer.prototype.stop=function(){this.interval_f&&(a.clearInterval(this.interval_f),this.interval_f=null),this.is_active=!1},b.Timer.prototype.reset=function(){this.stop(),this.time_count=this.start_value,this.html_element.innerHTML=this.getTimeString()},b.Timer.prototype.restart=function(){this.reset(),this.start({startValue:this.start_value,endValue:this.end_value,endCallback:this.end_callback,tickCallback:this.tick_callback,countDown:this.count_down})},b.Timer.prototype.add=function(a){this.time_count+=a},b.Timer.prototype.getTimeString=function(){return b.timeToString(this.time_count)},b.Timer.prototype.getTimeSeconds=function(){return this.time_count/1e3},b.Timer.prototype.getTimeMilliseconds=function(){return this.time_count},b.calculateAngle=function(a,c,d,e){if(!(b.isNumber(a)&&b.isNumber(c)&&b.isNumber(d)&&b.isNumber(e)))throw new Error("Invalid arguments.");var f=c-e,g=d-a;return Math.atan2(f,g)},b.calculateDistance=function(a,c,d,e){if(!(b.isNumber(a)&&b.isNumber(c)&&b.isNumber(d)&&b.isNumber(e)))throw new Error("Invalid arguments.");var f=e-c,g=d-a;return Math.sqrt(Math.pow(f,2)+Math.pow(g,2))},b.toDegrees=function(a){if(!b.isNumber(a))throw new Error("Invalid argument.");return 180*a/Math.PI},b.toRadians=function(a){if(!b.isNumber(a))throw new Error("Invalid argument.");return a*Math.PI/180},a.Utilities=b}(window);